name: Keep Backend Alive

on:
  schedule:
    # Ping mỗi 5 phút (Tối ưu hóa tối đa để server không bao giờ ngủ)
    - cron: '*/5 * * * *'
  workflow_dispatch: # Allow manual trigger

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping All Services
        run: |
          # Ping Render Backend (Cái này quan trọng nhất vì nó hay ngủ)
          curl -I https://mycafe-backend-prx3.onrender.com/api/table
          # Ping Vercel Frontend (Theo yêu cầu của anh để chắc chắn)
          curl -I https://mycafe-omega.vercel.app/
          echo "Pings completed successfully at $(date)!"
